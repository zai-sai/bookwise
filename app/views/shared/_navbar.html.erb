<nav class="navbar navbar-expand-sm sticky-top">
  <div class="container-fluid">

    <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#dropdownModal">
      <i class="fa-solid fa-bars fa-xl"></i>
    </button>

    <%= link_to home_path, class: "navbar-brand d-flex" do %>
      <%= image_tag "dewey_bg-transparent.png", alt: "Dewey the Owl", style: "max-height:50px", class: "me-2" %>
      <h1>BOOKWISE</h1>
    <% end %>

    <%= link_to searches_path, class: "btn" do %>
      <i class="fa-solid fa-magnifying-glass fa-xl"></i>
    <% end %>

  </div>
</nav>
<div class="modal modal-sm fade align-items-start justify-content-end" id="dropdownModal" tabindex="-1" aria-labelledby="dropdownModalLabel" aria-hidden="true">
  <div class="modal-dialog mt-3 me-3">
    <div class="modal-content" style="height: 95dvh;">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-primary" id="dropdownModalLabel">
          <% if current_user %>
            Hi <%= current_user.username %>!
          <% else %>
            Welcome!
          <% end %>
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <ul class="list-group">
          <% if current_user %>
            <div>
              <%= link_to home_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-house me-2"></i>Home</p>
              <% end %>
            </div>
            <div>
              <%= link_to user_books_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-folder-open me-2"></i>My Library</p>
              <% end %>
            </div>
            <div>
              <%= link_to books_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-book me-2"></i>Book Directory</p>
              <% end %>
            </div>
            <div>
              <%= link_to edit_user_registration_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-user me-2"></i>Edit Account</p>
              <% end %>
            </div>
            <div>
              <%= link_to destroy_user_session_path, data: {turbo_method: :delete}, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-right-from-bracket me-2"></i>Log out</p>
              <% end %>
            </div>
          <% else %>
            <div>
              <%= link_to new_user_session_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-right-from-bracket me-2"></i>Log in</p>
              <% end %>
            </div>
            <div>
              <%= link_to new_user_registration_path, class: "dropdown-item" do %>
                <p><i class="fa-solid fa-user me-2"></i>Sign up</p>
              <% end %>
            </div>
          <% end %>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
