<%# to make home page work for now %>
<%# <% @shelves = ["All books", "Read", "Unread", "My epic novels shelf", "The Fifth Shelf", "Another shelf", "The Last Shelf"] %>
<%# <% @shelf_books = [0,1,2,3,4,5,6,7,8,9,10,11,12] %>

<div class="container py-3">
  <% if current_user %>
    <%= render "shared/search_bar" %>

    <div class="mb-2">
      <h2 class="mb-3">Your shelves</h2>
      <h3><%= link_to "My Library", user_books_path %></h3>
        <div class="d-flex flex-nowrap overflow-x-scroll scroll-hide mb-3">

          <% if @user_books.any? %>
            <% @user_books.each do |user_book| %>
              <div class="flex-shrink-0">
                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#bookCardModal">
                  <img src="<%= user_book.image_link %>" alt="Book cover for <%= user_book.title %> by <%= user_book.author %>" height="200px" class="shadow-sm rounded-3">
                </button>
              </div>
              <%= render "books/modal", book: user_book.book %>
            <% end %>
          <% else %>
            <p class="lead">Your Library is currently empty.</p>
          <% end %>

        </div>


      <% @shelves.each do |shelf| %>
        <h3><%= link_to shelf.name, shelf_path(shelf) %></h3>
        <div class="d-flex flex-nowrap overflow-x-scroll scroll-hide mb-3">

          <% if shelf.shelf_books.any? %>
            <% shelf.shelf_books.each do |shelf_book| %>
              <div class="flex-shrink-0">
                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#bookCardModal">
                  <img src="<%= shelf_book.image_link %>" alt="Book cover for <%= shelf_book.title %> by <%= shelf_book.author %>" height="200px" class="shadow-sm rounded-3">
                </button>
              </div>
              <%= render "books/modal", book: shelf_book.book %>
            <% end %>
          <% else %>
            <p class="lead">This shelf is currently empty.</p>
          <% end %>

        </div>
      <% end %>
    </div>

  <% else %>
    <%= render "pages/welcome_page" %>
  <% end %>
</div>
